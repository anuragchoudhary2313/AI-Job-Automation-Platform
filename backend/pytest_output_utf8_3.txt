============================= test session starts =============================
platform win32 -- Python 3.11.9, pytest-7.4.4, pluggy-1.6.0 -- C:\Users\anura\AppData\Local\Programs\Python\Python311\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\anura\ai-job-automation-saas\backend
configfile: pytest.ini
testpaths: tests
plugins: anyio-4.2.0, asyncio-0.23.4, cov-4.1.0
asyncio: mode=Mode.STRICT
collecting ... collected 68 items / 1 skipped

tests/test_auth.py::TestUserRegistration::test_register_new_user FAILED  [  1%]
tests/test_auth.py::TestUserRegistration::test_register_duplicate_email FAILED [  2%]
tests/test_auth.py::TestUserRegistration::test_register_invalid_email PASSED [  4%]
tests/test_auth.py::TestUserRegistration::test_register_weak_password PASSED [  5%]
tests/test_auth.py::TestUserLogin::test_login_success FAILED             [  7%]
tests/test_auth.py::TestUserLogin::test_login_wrong_password FAILED      [  8%]
tests/test_auth.py::TestUserLogin::test_login_nonexistent_user FAILED    [ 10%]
tests/test_auth.py::TestUserLogin::test_login_missing_credentials PASSED [ 11%]
tests/test_auth.py::TestJWTTokens::test_token_contains_user_info ERROR   [ 13%]
tests/test_auth.py::TestJWTTokens::test_access_protected_endpoint_with_token ERROR [ 14%]
tests/test_auth.py::TestJWTTokens::test_access_protected_endpoint_without_token FAILED [ 16%]
tests/test_auth.py::TestJWTTokens::test_access_with_invalid_token FAILED [ 17%]
tests/test_auth.py::TestJWTTokens::test_token_expiration FAILED          [ 19%]
tests/test_auth.py::TestRoleBasedAccess::test_admin_can_access_admin_endpoint ERROR [ 20%]
tests/test_auth.py::TestRoleBasedAccess::test_member_cannot_access_admin_endpoint ERROR [ 22%]
tests/test_auth.py::TestRoleBasedAccess::test_viewer_has_read_only_access FAILED [ 23%]
tests/test_auth.py::TestPasswordSecurity::test_password_is_hashed FAILED [ 25%]
tests/test_auth.py::TestPasswordSecurity::test_password_verification PASSED [ 26%]
tests/test_auth.py::TestPasswordSecurity::test_same_password_different_hashes PASSED [ 27%]
tests/test_jobs.py::TestJobCreation::test_create_job_authenticated ERROR [ 29%]
tests/test_jobs.py::TestJobCreation::test_create_job_unauthenticated FAILED [ 30%]
tests/test_jobs.py::TestJobCreation::test_create_job_missing_required_fields ERROR [ 32%]
tests/test_jobs.py::TestJobCreation::test_create_job_with_invalid_status FAILED [ 33%]
tests/test_jobs.py::TestJobRetrieval::test_get_all_jobs ERROR            [ 35%]
tests/test_jobs.py::TestJobRetrieval::test_get_job_by_id ERROR           [ 36%]
tests/test_jobs.py::TestJobRetrieval::test_get_nonexistent_job ERROR     [ 38%]
tests/test_jobs.py::TestJobRetrieval::test_filter_jobs_by_status ERROR   [ 39%]
tests/test_jobs.py::TestJobRetrieval::test_search_jobs_by_company ERROR  [ 41%]
tests/test_jobs.py::TestJobUpdate::test_update_job ERROR                 [ 42%]
tests/test_jobs.py::TestJobUpdate::test_update_job_status_only ERROR     [ 44%]
tests/test_jobs.py::TestJobUpdate::test_update_nonexistent_job ERROR     [ 45%]
tests/test_jobs.py::TestJobDeletion::test_delete_job ERROR               [ 47%]
tests/test_jobs.py::TestJobDeletion::test_delete_nonexistent_job ERROR   [ 48%]
tests/test_jobs.py::TestJobDeletion::test_admin_can_delete_any_job ERROR [ 50%]
tests/test_jobs.py::TestJobPagination::test_paginate_jobs ERROR          [ 51%]
tests/test_jobs.py::TestJobPagination::test_pagination_with_filters ERROR [ 52%]
tests/test_teams.py::TestTeamIsolation::test_user_cannot_see_other_team_jobs FAILED [ 54%]
tests/test_teams.py::TestTeamIsolation::test_user_cannot_access_other_team_job_by_id FAILED [ 55%]
tests/test_teams.py::TestTeamIsolation::test_user_cannot_update_other_team_job FAILED [ 57%]
tests/test_teams.py::TestTeamIsolation::test_user_cannot_delete_other_team_job FAILED [ 58%]
tests/test_teams.py::TestTeamManagement::test_create_team_on_registration FAILED [ 60%]
tests/test_teams.py::TestTeamManagement::test_admin_can_invite_team_members ERROR [ 61%]
tests/test_teams.py::TestTeamManagement::test_member_cannot_invite_team_members ERROR [ 63%]
tests/test_teams.py::TestTeamManagement::test_get_team_members ERROR     [ 64%]
tests/test_teams.py::TestTeamManagement::test_admin_can_remove_team_member ERROR [ 66%]
tests/test_teams.py::TestTeamManagement::test_member_cannot_remove_team_member ERROR [ 67%]
tests/test_teams.py::TestTeamSettings::test_team_has_isolated_settings SKIPPED [ 69%]
tests/test_teams.py::TestTeamSettings::test_update_team_settings SKIPPED [ 70%]
tests/test_teams.py::TestTeamSettings::test_member_cannot_update_team_settings SKIPPED [ 72%]
tests/test_teams.py::TestCrossTeamDataLeaks::test_search_does_not_leak_other_team_data FAILED [ 73%]
tests/test_teams.py::TestCrossTeamDataLeaks::test_statistics_are_team_isolated ERROR [ 75%]
tests/smoke/test_smoke.py::TestAuthenticationFlow::test_01_health_check FAILED [ 76%]
tests/smoke/test_smoke.py::TestAuthenticationFlow::test_02_user_registration FAILED [ 77%]
tests/smoke/test_smoke.py::TestAuthenticationFlow::test_03_user_login FAILED [ 79%]
tests/smoke/test_smoke.py::TestAuthenticationFlow::test_04_get_current_user FAILED [ 80%]
tests/smoke/test_smoke.py::TestAuthenticationFlow::test_05_invalid_login FAILED [ 82%]
tests/smoke/test_smoke.py::TestResumeFlow::test_01_list_resumes_empty FAILED [ 83%]
tests/smoke/test_smoke.py::TestResumeFlow::test_02_upload_resume FAILED  [ 85%]
tests/smoke/test_smoke.py::TestResumeFlow::test_03_list_resumes_with_data FAILED [ 86%]
tests/smoke/test_smoke.py::TestResumeFlow::test_04_download_resume FAILED [ 88%]
tests/smoke/test_smoke.py::TestResumeFlow::test_05_delete_resume FAILED  [ 89%]
tests/smoke/test_smoke.py::TestJobScrapingFlow::test_01_scrape_jobs FAILED [ 91%]
tests/smoke/test_smoke.py::TestJobScrapingFlow::test_02_list_scraped_jobs FAILED [ 92%]
tests/smoke/test_smoke.py::TestSchedulerFlow::test_01_scheduler_status FAILED [ 94%]
tests/smoke/test_smoke.py::TestSchedulerFlow::test_02_list_jobs FAILED   [ 95%]
tests/smoke/test_smoke.py::TestStatsFlow::test_01_dashboard_stats FAILED [ 97%]
tests/smoke/test_smoke.py::TestWebSocketFlow::test_01_websocket_endpoint_exists FAILED [ 98%]
tests/smoke/test_smoke.py::test_summary PASSED                           [100%]

=================================== ERRORS ====================================
________ ERROR at setup of TestJWTTokens.test_token_contains_user_info ________
tests\conftest.py:120: in user_token
    return create_access_token(subject=test_user.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
__ ERROR at setup of TestJWTTokens.test_access_protected_endpoint_with_token __
tests\conftest.py:120: in user_token
    return create_access_token(subject=test_user.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:07,224 - app.main - INFO - Starting application...
2026-02-12 00:36:07,227 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:07,228 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:07,229 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:07,232 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:07,233 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:07,234 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:07,236 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:07,237 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:07,238 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:07,239 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:07,241 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
_ ERROR at setup of TestRoleBasedAccess.test_admin_can_access_admin_endpoint __
tests\conftest.py:125: in admin_token
    return create_access_token(subject=test_admin.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:07,877 - app.main - INFO - Starting application...
2026-02-12 00:36:07,882 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:07,883 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:07,885 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:07,887 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:07,888 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:07,889 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:07,890 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:07,893 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:07,894 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:07,895 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:07,896 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
_ ERROR at setup of TestRoleBasedAccess.test_member_cannot_access_admin_endpoint _
tests\conftest.py:120: in user_token
    return create_access_token(subject=test_user.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:08,002 - app.main - INFO - Starting application...
2026-02-12 00:36:08,005 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,007 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,010 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,013 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,015 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:08,019 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:08,023 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:08,025 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:08,026 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:08,028 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:08,029 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
_______ ERROR at setup of TestJobCreation.test_create_job_authenticated _______
tests\conftest.py:120: in user_token
    return create_access_token(subject=test_user.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:08,281 - app.main - INFO - Starting application...
2026-02-12 00:36:08,284 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,286 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,288 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,289 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,291 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:08,292 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:08,294 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:08,295 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:08,297 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:08,297 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:08,299 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
__ ERROR at setup of TestJobCreation.test_create_job_missing_required_fields __
tests\conftest.py:120: in user_token
    return create_access_token(subject=test_user.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:08,555 - app.main - INFO - Starting application...
2026-02-12 00:36:08,558 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,560 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,562 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,564 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,566 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:08,567 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:08,568 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:08,571 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:08,572 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:08,573 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:08,575 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
____________ ERROR at setup of TestJobRetrieval.test_get_all_jobs _____________
tests\conftest.py:120: in user_token
    return create_access_token(subject=test_user.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:08,823 - app.main - INFO - Starting application...
2026-02-12 00:36:08,826 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,827 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,829 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,832 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,836 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:08,838 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:08,841 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:08,843 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:08,845 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:08,847 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:08,848 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
____________ ERROR at setup of TestJobRetrieval.test_get_job_by_id ____________
tests\conftest.py:120: in user_token
    return create_access_token(subject=test_user.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:08,957 - app.main - INFO - Starting application...
2026-02-12 00:36:08,959 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,961 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,962 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,963 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,966 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:08,966 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:08,968 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:08,969 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:08,971 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:08,971 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:08,972 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
_________ ERROR at setup of TestJobRetrieval.test_get_nonexistent_job _________
tests\conftest.py:120: in user_token
    return create_access_token(subject=test_user.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:09,080 - app.main - INFO - Starting application...
2026-02-12 00:36:09,082 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,086 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,087 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,090 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,092 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:09,093 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:09,094 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:09,096 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:09,097 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:09,099 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:09,100 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
________ ERROR at setup of TestJobRetrieval.test_filter_jobs_by_status ________
tests\conftest.py:120: in user_token
    return create_access_token(subject=test_user.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:09,195 - app.main - INFO - Starting application...
2026-02-12 00:36:09,197 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,199 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,201 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,202 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,203 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:09,205 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:09,207 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:09,209 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:09,210 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:09,211 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:09,213 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
_______ ERROR at setup of TestJobRetrieval.test_search_jobs_by_company ________
tests\conftest.py:120: in user_token
    return create_access_token(subject=test_user.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:09,327 - app.main - INFO - Starting application...
2026-02-12 00:36:09,330 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,332 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,335 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,337 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,340 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:09,342 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:09,344 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:09,346 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:09,347 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:09,349 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:09,351 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
_______________ ERROR at setup of TestJobUpdate.test_update_job _______________
tests\conftest.py:120: in user_token
    return create_access_token(subject=test_user.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:09,464 - app.main - INFO - Starting application...
2026-02-12 00:36:09,467 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,468 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,471 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,473 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,475 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:09,476 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:09,477 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:09,478 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:09,480 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:09,481 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:09,482 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
_________ ERROR at setup of TestJobUpdate.test_update_job_status_only _________
tests\conftest.py:120: in user_token
    return create_access_token(subject=test_user.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:09,595 - app.main - INFO - Starting application...
2026-02-12 00:36:09,598 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,600 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,603 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,605 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,606 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:09,608 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:09,609 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:09,611 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:09,613 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:09,615 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:09,616 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
_________ ERROR at setup of TestJobUpdate.test_update_nonexistent_job _________
tests\conftest.py:120: in user_token
    return create_access_token(subject=test_user.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:09,712 - app.main - INFO - Starting application...
2026-02-12 00:36:09,715 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,717 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,718 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,719 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,721 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:09,722 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:09,724 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:09,726 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:09,726 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:09,728 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:09,729 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
______________ ERROR at setup of TestJobDeletion.test_delete_job ______________
tests\conftest.py:120: in user_token
    return create_access_token(subject=test_user.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:09,827 - app.main - INFO - Starting application...
2026-02-12 00:36:09,829 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,831 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,833 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,834 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,835 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:09,837 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:09,839 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:09,840 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:09,841 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:09,843 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:09,843 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
________ ERROR at setup of TestJobDeletion.test_delete_nonexistent_job ________
tests\conftest.py:120: in user_token
    return create_access_token(subject=test_user.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:09,962 - app.main - INFO - Starting application...
2026-02-12 00:36:09,963 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,966 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,968 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,969 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:09,971 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:09,972 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:09,974 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:09,974 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:09,975 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:09,977 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:09,979 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
_______ ERROR at setup of TestJobDeletion.test_admin_can_delete_any_job _______
tests\conftest.py:125: in admin_token
    return create_access_token(subject=test_admin.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:10,112 - app.main - INFO - Starting application...
2026-02-12 00:36:10,114 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,115 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,116 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,118 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,119 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:10,121 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:10,122 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:10,123 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:10,124 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:10,126 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:10,127 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
___________ ERROR at setup of TestJobPagination.test_paginate_jobs ____________
tests\conftest.py:120: in user_token
    return create_access_token(subject=test_user.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:10,227 - app.main - INFO - Starting application...
2026-02-12 00:36:10,229 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,230 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,232 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,234 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,235 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:10,237 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:10,238 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:10,242 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:10,244 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:10,245 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:10,246 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
______ ERROR at setup of TestJobPagination.test_pagination_with_filters _______
tests\conftest.py:120: in user_token
    return create_access_token(subject=test_user.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:10,343 - app.main - INFO - Starting application...
2026-02-12 00:36:10,345 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,347 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,349 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,350 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,351 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:10,352 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:10,354 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:10,356 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:10,357 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:10,359 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:10,361 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
___ ERROR at setup of TestTeamManagement.test_admin_can_invite_team_members ___
tests\conftest.py:125: in admin_token
    return create_access_token(subject=test_admin.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:11,047 - app.main - INFO - Starting application...
2026-02-12 00:36:11,049 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,050 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,052 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,055 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,056 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:11,058 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:11,059 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:11,061 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:11,062 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:11,064 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:11,065 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
_ ERROR at setup of TestTeamManagement.test_member_cannot_invite_team_members _
tests\conftest.py:120: in user_token
    return create_access_token(subject=test_user.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:11,168 - app.main - INFO - Starting application...
2026-02-12 00:36:11,170 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,172 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,174 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,175 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,176 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:11,177 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:11,178 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:11,180 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:11,181 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:11,182 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:11,182 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
_________ ERROR at setup of TestTeamManagement.test_get_team_members __________
tests\conftest.py:120: in user_token
    return create_access_token(subject=test_user.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:11,284 - app.main - INFO - Starting application...
2026-02-12 00:36:11,287 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,288 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,291 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,293 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,294 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:11,295 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:11,296 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:11,298 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:11,299 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:11,301 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:11,302 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
___ ERROR at setup of TestTeamManagement.test_admin_can_remove_team_member ____
tests\conftest.py:125: in admin_token
    return create_access_token(subject=test_admin.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:11,397 - app.main - INFO - Starting application...
2026-02-12 00:36:11,399 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,401 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,403 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,405 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,406 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:11,408 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:11,410 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:11,411 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:11,413 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:11,416 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:11,431 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
_ ERROR at setup of TestTeamManagement.test_member_cannot_remove_team_member __
tests\conftest.py:120: in user_token
    return create_access_token(subject=test_user.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:11,558 - app.main - INFO - Starting application...
2026-02-12 00:36:11,561 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,561 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,563 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,565 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,566 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:11,567 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:11,568 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:11,569 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:11,571 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:11,572 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:11,572 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
_ ERROR at setup of TestCrossTeamDataLeaks.test_statistics_are_team_isolated __
tests\conftest.py:120: in user_token
    return create_access_token(subject=test_user.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:11,792 - app.main - INFO - Starting application...
2026-02-12 00:36:11,793 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,796 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,798 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,799 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,800 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:11,801 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:11,803 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:11,804 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:11,805 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:11,806 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:11,807 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
================================== FAILURES ===================================
_________________ TestUserRegistration.test_register_new_user _________________
tests\test_auth.py:23: in test_register_new_user
    assert response.status_code == status.HTTP_200_OK
E   assert 422 == 200
E    +  where 422 = <Response [422 Unprocessable Entity]>.status_code
E    +  and   200 = status.HTTP_200_OK
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:03,773 - app.main - INFO - Starting application...
2026-02-12 00:36:03,875 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:03,878 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:03,884 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:03,886 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:03,912 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:03,913 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:03,917 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:03,919 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:03,921 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:03,922 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:03,923 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
---------------------------- Captured stdout call -----------------------------
2026-02-12 00:36:03,949 - app.core.middleware - INFO - Wait Request: POST /api/v1/auth/register from unknown
2026-02-12 00:36:04,066 - app.core.error_handlers - WARNING - Validation error: [{'field': 'body.full_name', 'message': 'Field required', 'type': 'missing'}]
2026-02-12 00:36:04,076 - app.core.middleware - INFO - Completed: 422 in 124.49ms
------------------------------ Captured log call ------------------------------
INFO     app.core.middleware:middleware.py:21 Wait Request: POST /api/v1/auth/register from unknown
WARNING  app.core.error_handlers:error_handlers.py:92 Validation error: [{'field': 'body.full_name', 'message': 'Field required', 'type': 'missing'}]
INFO     app.core.middleware:middleware.py:32 Completed: 422 in 124.49ms
-------------------------- Captured stdout teardown ---------------------------
2026-02-12 00:36:06,408 - app.main - INFO - Shutting down application...
2026-02-12 00:36:06,409 - app.scheduler.scheduler - INFO - Scheduler shut down.
2026-02-12 00:36:06,411 - app.main - INFO - Application shut down successfully
2026-02-12 00:36:06,412 - apscheduler.scheduler - INFO - Scheduler has been shut down
---------------------------- Captured log teardown ----------------------------
INFO     app.main:main.py:51 Shutting down application...
INFO     app.scheduler.scheduler:scheduler.py:79 Scheduler shut down.
INFO     app.main:main.py:55 Application shut down successfully
INFO     apscheduler.scheduler:base.py:212 Scheduler has been shut down
_____________ TestUserRegistration.test_register_duplicate_email ______________
tests\test_auth.py:35: in test_register_duplicate_email
    "email": test_user.email,
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:06,432 - app.main - INFO - Starting application...
2026-02-12 00:36:06,435 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:06,437 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:06,440 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:06,442 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:06,444 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:06,446 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:06,447 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:06,449 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:06,451 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:06,453 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:06,454 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
-------------------------- Captured stdout teardown ---------------------------
2026-02-12 00:36:06,513 - app.main - INFO - Shutting down application...
2026-02-12 00:36:06,516 - app.scheduler.scheduler - INFO - Scheduler shut down.
2026-02-12 00:36:06,517 - app.main - INFO - Application shut down successfully
2026-02-12 00:36:06,518 - apscheduler.scheduler - INFO - Scheduler has been shut down
---------------------------- Captured log teardown ----------------------------
INFO     app.main:main.py:51 Shutting down application...
INFO     app.scheduler.scheduler:scheduler.py:79 Scheduler shut down.
INFO     app.main:main.py:55 Application shut down successfully
INFO     apscheduler.scheduler:base.py:212 Scheduler has been shut down
______________________ TestUserLogin.test_login_success _______________________
tests\test_auth.py:78: in test_login_success
    "username": test_user.username,
E   AttributeError: 'coroutine' object has no attribute 'username'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:06,717 - app.main - INFO - Starting application...
2026-02-12 00:36:06,720 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:06,721 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:06,723 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:06,725 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:06,726 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:06,727 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:06,728 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:06,730 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:06,731 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:06,732 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:06,732 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
-------------------------- Captured stdout teardown ---------------------------
2026-02-12 00:36:06,774 - app.main - INFO - Shutting down application...
2026-02-12 00:36:06,775 - app.scheduler.scheduler - INFO - Scheduler shut down.
2026-02-12 00:36:06,776 - app.main - INFO - Application shut down successfully
2026-02-12 00:36:06,777 - apscheduler.scheduler - INFO - Scheduler has been shut down
---------------------------- Captured log teardown ----------------------------
INFO     app.main:main.py:51 Shutting down application...
INFO     app.scheduler.scheduler:scheduler.py:79 Scheduler shut down.
INFO     app.main:main.py:55 Application shut down successfully
INFO     apscheduler.scheduler:base.py:212 Scheduler has been shut down
___________________ TestUserLogin.test_login_wrong_password ___________________
tests\test_auth.py:92: in test_login_wrong_password
    "username": test_user.username,
E   AttributeError: 'coroutine' object has no attribute 'username'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:06,800 - app.main - INFO - Starting application...
2026-02-12 00:36:06,804 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:06,806 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:06,809 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:06,812 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:06,815 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:06,818 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:06,820 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:06,823 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:06,824 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:06,827 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:06,829 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
-------------------------- Captured stdout teardown ---------------------------
2026-02-12 00:36:06,875 - app.main - INFO - Shutting down application...
2026-02-12 00:36:06,878 - app.scheduler.scheduler - INFO - Scheduler shut down.
2026-02-12 00:36:06,879 - app.main - INFO - Application shut down successfully
2026-02-12 00:36:06,881 - apscheduler.scheduler - INFO - Scheduler has been shut down
---------------------------- Captured log teardown ----------------------------
INFO     app.main:main.py:51 Shutting down application...
INFO     app.scheduler.scheduler:scheduler.py:79 Scheduler shut down.
INFO     app.main:main.py:55 Application shut down successfully
INFO     apscheduler.scheduler:base.py:212 Scheduler has been shut down
__________________ TestUserLogin.test_login_nonexistent_user __________________
tests\test_auth.py:107: in test_login_nonexistent_user
    assert response.status_code == status.HTTP_400_BAD_REQUEST
E   assert 500 == 400
E    +  where 500 = <Response [500 Internal Server Error]>.status_code
E    +  and   400 = status.HTTP_400_BAD_REQUEST
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:06,900 - app.main - INFO - Starting application...
2026-02-12 00:36:06,902 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:06,904 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:06,907 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:06,909 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:06,910 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:06,913 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:06,915 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:06,917 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:06,918 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:06,919 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:06,921 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
---------------------------- Captured stdout call -----------------------------
2026-02-12 00:36:06,933 - app.core.middleware - INFO - Wait Request: POST /api/v1/auth/login from unknown
2026-02-12 00:36:06,963 - app.repositories.user - ERROR - Error getting user by email nonexistent: 'async_generator' object has no attribute 'execute'
2026-02-12 00:36:06,966 - app.api.endpoints.auth - ERROR - Login error: Failed to get user by email
Traceback (most recent call last):
  File "C:\Users\anura\ai-job-automation-saas\backend\app\repositories\user.py", line 45, in get_by_email
    result = await self.db.execute(
                   ^^^^^^^^^^^^^^^
AttributeError: 'async_generator' object has no attribute 'execute'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\anura\ai-job-automation-saas\backend\app\api\endpoints\auth.py", line 63, in login
    user, tokens = await auth_service.login(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\anura\ai-job-automation-saas\backend\app\services\auth_service.py", line 170, in login
    user = await self.authenticate_user(email, password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\anura\ai-job-automation-saas\backend\app\services\auth_service.py", line 50, in authenticate_user
    user = await self.user_repo.get_by_email(email)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\anura\ai-job-automation-saas\backend\app\repositories\user.py", line 51, in get_by_email
    raise DatabaseError("Failed to get user by email") from e
app.core.exceptions.DatabaseError: Failed to get user by email
2026-02-12 00:36:06,975 - app.core.error_handlers - ERROR - HTTP 500: An error occurred during login
2026-02-12 00:36:06,979 - app.core.middleware - INFO - Completed: 500 in 45.94ms
------------------------------ Captured log call ------------------------------
INFO     app.core.middleware:middleware.py:21 Wait Request: POST /api/v1/auth/login from unknown
ERROR    app.repositories.user:user.py:50 Error getting user by email nonexistent: 'async_generator' object has no attribute 'execute'
ERROR    app.api.endpoints.auth:auth.py:85 Login error: Failed to get user by email
Traceback (most recent call last):
  File "C:\Users\anura\ai-job-automation-saas\backend\app\repositories\user.py", line 45, in get_by_email
    result = await self.db.execute(
                   ^^^^^^^^^^^^^^^
AttributeError: 'async_generator' object has no attribute 'execute'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\anura\ai-job-automation-saas\backend\app\api\endpoints\auth.py", line 63, in login
    user, tokens = await auth_service.login(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\anura\ai-job-automation-saas\backend\app\services\auth_service.py", line 170, in login
    user = await self.authenticate_user(email, password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\anura\ai-job-automation-saas\backend\app\services\auth_service.py", line 50, in authenticate_user
    user = await self.user_repo.get_by_email(email)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\anura\ai-job-automation-saas\backend\app\repositories\user.py", line 51, in get_by_email
    raise DatabaseError("Failed to get user by email") from e
app.core.exceptions.DatabaseError: Failed to get user by email
ERROR    app.core.error_handlers:error_handlers.py:114 HTTP 500: An error occurred during login
INFO     app.core.middleware:middleware.py:32 Completed: 500 in 45.94ms
-------------------------- Captured stdout teardown ---------------------------
2026-02-12 00:36:07,022 - app.main - INFO - Shutting down application...
2026-02-12 00:36:07,024 - app.scheduler.scheduler - INFO - Scheduler shut down.
2026-02-12 00:36:07,025 - app.main - INFO - Application shut down successfully
2026-02-12 00:36:07,027 - apscheduler.scheduler - INFO - Scheduler has been shut down
---------------------------- Captured log teardown ----------------------------
INFO     app.main:main.py:51 Shutting down application...
INFO     app.scheduler.scheduler:scheduler.py:79 Scheduler shut down.
INFO     app.main:main.py:55 Application shut down successfully
INFO     apscheduler.scheduler:base.py:212 Scheduler has been shut down
_________ TestJWTTokens.test_access_protected_endpoint_without_token __________
tests\test_auth.py:135: in test_access_protected_endpoint_without_token
    assert response.status_code == status.HTTP_401_UNAUTHORIZED
E   assert 404 == 401
E    +  where 404 = <Response [404 Not Found]>.status_code
E    +  and   401 = status.HTTP_401_UNAUTHORIZED
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:07,341 - app.main - INFO - Starting application...
2026-02-12 00:36:07,344 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:07,345 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:07,347 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:07,348 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:07,349 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:07,351 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:07,353 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:07,355 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:07,356 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:07,358 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:07,359 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
---------------------------- Captured stdout call -----------------------------
2026-02-12 00:36:07,369 - app.core.middleware - INFO - Wait Request: GET /api/v1/users/me from unknown
2026-02-12 00:36:07,373 - app.core.error_handlers - WARNING - HTTP 404: Not Found
2026-02-12 00:36:07,379 - app.core.middleware - INFO - Completed: 404 in 9.07ms
------------------------------ Captured log call ------------------------------
INFO     app.core.middleware:middleware.py:21 Wait Request: GET /api/v1/users/me from unknown
WARNING  app.core.error_handlers:error_handlers.py:114 HTTP 404: Not Found
INFO     app.core.middleware:middleware.py:32 Completed: 404 in 9.07ms
-------------------------- Captured stdout teardown ---------------------------
2026-02-12 00:36:07,424 - app.main - INFO - Shutting down application...
2026-02-12 00:36:07,426 - app.scheduler.scheduler - INFO - Scheduler shut down.
2026-02-12 00:36:07,427 - app.main - INFO - Application shut down successfully
2026-02-12 00:36:07,429 - apscheduler.scheduler - INFO - Scheduler has been shut down
---------------------------- Captured log teardown ----------------------------
INFO     app.main:main.py:51 Shutting down application...
INFO     app.scheduler.scheduler:scheduler.py:79 Scheduler shut down.
INFO     app.main:main.py:55 Application shut down successfully
INFO     apscheduler.scheduler:base.py:212 Scheduler has been shut down
________________ TestJWTTokens.test_access_with_invalid_token _________________
tests\test_auth.py:143: in test_access_with_invalid_token
    assert response.status_code == status.HTTP_401_UNAUTHORIZED
E   assert 404 == 401
E    +  where 404 = <Response [404 Not Found]>.status_code
E    +  and   401 = status.HTTP_401_UNAUTHORIZED
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:07,446 - app.main - INFO - Starting application...
2026-02-12 00:36:07,449 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:07,451 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:07,454 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:07,455 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:07,457 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:07,458 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:07,459 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:07,462 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:07,463 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:07,465 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:07,465 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
---------------------------- Captured stdout call -----------------------------
2026-02-12 00:36:07,475 - app.core.middleware - INFO - Wait Request: GET /api/v1/users/me from unknown
2026-02-12 00:36:07,478 - app.core.error_handlers - WARNING - HTTP 404: Not Found
2026-02-12 00:36:07,484 - app.core.middleware - INFO - Completed: 404 in 9.59ms
------------------------------ Captured log call ------------------------------
INFO     app.core.middleware:middleware.py:21 Wait Request: GET /api/v1/users/me from unknown
WARNING  app.core.error_handlers:error_handlers.py:114 HTTP 404: Not Found
INFO     app.core.middleware:middleware.py:32 Completed: 404 in 9.59ms
-------------------------- Captured stdout teardown ---------------------------
2026-02-12 00:36:07,529 - app.main - INFO - Shutting down application...
2026-02-12 00:36:07,531 - app.scheduler.scheduler - INFO - Scheduler shut down.
2026-02-12 00:36:07,532 - app.main - INFO - Application shut down successfully
2026-02-12 00:36:07,534 - apscheduler.scheduler - INFO - Scheduler has been shut down
---------------------------- Captured log teardown ----------------------------
INFO     app.main:main.py:51 Shutting down application...
INFO     app.scheduler.scheduler:scheduler.py:79 Scheduler shut down.
INFO     app.main:main.py:55 Application shut down successfully
INFO     apscheduler.scheduler:base.py:212 Scheduler has been shut down
_____________________ TestJWTTokens.test_token_expiration _____________________
tests\test_auth.py:160: in test_token_expiration
    assert response.status_code == status.HTTP_401_UNAUTHORIZED
E   assert 404 == 401
E    +  where 404 = <Response [404 Not Found]>.status_code
E    +  and   401 = status.HTTP_401_UNAUTHORIZED
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:07,551 - app.main - INFO - Starting application...
2026-02-12 00:36:07,554 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:07,555 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:07,557 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:07,558 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:07,559 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:07,560 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:07,561 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:07,563 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:07,564 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:07,565 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:07,565 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
---------------------------- Captured stdout call -----------------------------
2026-02-12 00:36:07,633 - app.core.middleware - INFO - Wait Request: GET /api/v1/users/me from unknown
2026-02-12 00:36:07,637 - app.core.error_handlers - WARNING - HTTP 404: Not Found
2026-02-12 00:36:07,644 - app.core.middleware - INFO - Completed: 404 in 11.14ms
------------------------------ Captured log call ------------------------------
INFO     app.core.middleware:middleware.py:21 Wait Request: GET /api/v1/users/me from unknown
WARNING  app.core.error_handlers:error_handlers.py:114 HTTP 404: Not Found
INFO     app.core.middleware:middleware.py:32 Completed: 404 in 11.14ms
-------------------------- Captured stdout teardown ---------------------------
2026-02-12 00:36:07,852 - app.main - INFO - Shutting down application...
2026-02-12 00:36:07,855 - app.scheduler.scheduler - INFO - Scheduler shut down.
2026-02-12 00:36:07,857 - app.main - INFO - Application shut down successfully
2026-02-12 00:36:07,858 - apscheduler.scheduler - INFO - Scheduler has been shut down
---------------------------- Captured log teardown ----------------------------
INFO     app.main:main.py:51 Shutting down application...
INFO     app.scheduler.scheduler:scheduler.py:79 Scheduler shut down.
INFO     app.main:main.py:55 Application shut down successfully
INFO     apscheduler.scheduler:base.py:212 Scheduler has been shut down
____________ TestRoleBasedAccess.test_viewer_has_read_only_access _____________
tests\test_auth.py:187: in test_viewer_has_read_only_access
    team_id=test_team.id
E   AttributeError: 'coroutine' object has no attribute 'id'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:08,134 - app.main - INFO - Starting application...
2026-02-12 00:36:08,137 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,138 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,140 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,143 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,145 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:08,147 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:08,147 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:08,149 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:08,151 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:08,153 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:08,154 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
-------------------------- Captured stdout teardown ---------------------------
2026-02-12 00:36:08,193 - app.main - INFO - Shutting down application...
2026-02-12 00:36:08,195 - app.scheduler.scheduler - INFO - Scheduler shut down.
2026-02-12 00:36:08,197 - app.main - INFO - Application shut down successfully
2026-02-12 00:36:08,199 - apscheduler.scheduler - INFO - Scheduler has been shut down
---------------------------- Captured log teardown ----------------------------
INFO     app.main:main.py:51 Shutting down application...
INFO     app.scheduler.scheduler:scheduler.py:79 Scheduler shut down.
INFO     app.main:main.py:55 Application shut down successfully
INFO     apscheduler.scheduler:base.py:212 Scheduler has been shut down
________________ TestPasswordSecurity.test_password_is_hashed _________________
tests\test_auth.py:213: in test_password_is_hashed
    assert test_user.password_hash != "testpassword123"
E   AttributeError: 'coroutine' object has no attribute 'password_hash'
_______________ TestJobCreation.test_create_job_unauthenticated _______________
tests\test_jobs.py:40: in test_create_job_unauthenticated
    assert response.status_code == status.HTTP_401_UNAUTHORIZED
E   assert 405 == 401
E    +  where 405 = <Response [405 Method Not Allowed]>.status_code
E    +  and   401 = status.HTTP_401_UNAUTHORIZED
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:08,406 - app.main - INFO - Starting application...
2026-02-12 00:36:08,409 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,412 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,414 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,416 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,418 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:08,420 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:08,423 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:08,425 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:08,426 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:08,428 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:08,429 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
---------------------------- Captured stdout call -----------------------------
2026-02-12 00:36:08,443 - app.core.middleware - INFO - Wait Request: POST /api/v1/jobs from unknown
2026-02-12 00:36:08,456 - app.core.middleware - INFO - Completed: 307 in 12.87ms
2026-02-12 00:36:08,471 - app.core.middleware - INFO - Wait Request: POST /api/v1/jobs/ from unknown
2026-02-12 00:36:08,474 - app.core.error_handlers - WARNING - HTTP 405: Method Not Allowed
2026-02-12 00:36:08,480 - app.core.middleware - INFO - Completed: 405 in 8.62ms
------------------------------ Captured log call ------------------------------
INFO     app.core.middleware:middleware.py:21 Wait Request: POST /api/v1/jobs from unknown
INFO     app.core.middleware:middleware.py:32 Completed: 307 in 12.87ms
INFO     app.core.middleware:middleware.py:21 Wait Request: POST /api/v1/jobs/ from unknown
WARNING  app.core.error_handlers:error_handlers.py:114 HTTP 405: Method Not Allowed
INFO     app.core.middleware:middleware.py:32 Completed: 405 in 8.62ms
-------------------------- Captured stdout teardown ---------------------------
2026-02-12 00:36:08,532 - app.main - INFO - Shutting down application...
2026-02-12 00:36:08,535 - app.scheduler.scheduler - INFO - Scheduler shut down.
2026-02-12 00:36:08,535 - app.main - INFO - Application shut down successfully
2026-02-12 00:36:08,537 - apscheduler.scheduler - INFO - Scheduler has been shut down
---------------------------- Captured log teardown ----------------------------
INFO     app.main:main.py:51 Shutting down application...
INFO     app.scheduler.scheduler:scheduler.py:79 Scheduler shut down.
INFO     app.main:main.py:55 Application shut down successfully
INFO     apscheduler.scheduler:base.py:212 Scheduler has been shut down
_____________ TestJobCreation.test_create_job_with_invalid_status _____________
tests\test_jobs.py:54: in test_create_job_with_invalid_status
    token = create_access_token(subject=test_user.email)
E   AttributeError: 'coroutine' object has no attribute 'email'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:08,700 - app.main - INFO - Starting application...
2026-02-12 00:36:08,703 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,705 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,707 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,709 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:08,711 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:08,712 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:08,715 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:08,717 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:08,719 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:08,720 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:08,722 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
-------------------------- Captured stdout teardown ---------------------------
2026-02-12 00:36:08,790 - app.main - INFO - Shutting down application...
2026-02-12 00:36:08,792 - app.scheduler.scheduler - INFO - Scheduler shut down.
2026-02-12 00:36:08,795 - app.main - INFO - Application shut down successfully
2026-02-12 00:36:08,796 - apscheduler.scheduler - INFO - Scheduler has been shut down
---------------------------- Captured log teardown ----------------------------
INFO     app.main:main.py:51 Shutting down application...
INFO     app.scheduler.scheduler:scheduler.py:79 Scheduler shut down.
INFO     app.main:main.py:55 Application shut down successfully
INFO     apscheduler.scheduler:base.py:212 Scheduler has been shut down
___________ TestTeamIsolation.test_user_cannot_see_other_team_jobs ____________
tests\test_teams.py:19: in test_user_cannot_see_other_team_jobs
    db_session.add_all([team1, team2])
E   AttributeError: 'async_generator' object has no attribute 'add_all'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:10,467 - app.main - INFO - Starting application...
2026-02-12 00:36:10,469 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,471 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,473 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,475 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,477 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:10,478 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:10,480 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:10,481 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:10,482 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:10,482 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:10,484 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
-------------------------- Captured stdout teardown ---------------------------
2026-02-12 00:36:10,595 - app.main - INFO - Shutting down application...
2026-02-12 00:36:10,597 - app.scheduler.scheduler - INFO - Scheduler shut down.
2026-02-12 00:36:10,598 - app.main - INFO - Application shut down successfully
2026-02-12 00:36:10,601 - apscheduler.scheduler - INFO - Scheduler has been shut down
---------------------------- Captured log teardown ----------------------------
INFO     app.main:main.py:51 Shutting down application...
INFO     app.scheduler.scheduler:scheduler.py:79 Scheduler shut down.
INFO     app.main:main.py:55 Application shut down successfully
INFO     apscheduler.scheduler:base.py:212 Scheduler has been shut down
_______ TestTeamIsolation.test_user_cannot_access_other_team_job_by_id ________
tests\test_teams.py:62: in test_user_cannot_access_other_team_job_by_id
    db_session.add_all([team1, team2])
E   AttributeError: 'async_generator' object has no attribute 'add_all'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:10,617 - app.main - INFO - Starting application...
2026-02-12 00:36:10,619 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,621 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,623 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,625 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,626 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:10,627 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:10,628 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:10,631 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:10,632 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:10,632 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:10,634 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
-------------------------- Captured stdout teardown ---------------------------
2026-02-12 00:36:10,686 - app.main - INFO - Shutting down application...
2026-02-12 00:36:10,688 - app.scheduler.scheduler - INFO - Scheduler shut down.
2026-02-12 00:36:10,692 - app.main - INFO - Application shut down successfully
2026-02-12 00:36:10,694 - apscheduler.scheduler - INFO - Scheduler has been shut down
---------------------------- Captured log teardown ----------------------------
INFO     app.main:main.py:51 Shutting down application...
INFO     app.scheduler.scheduler:scheduler.py:79 Scheduler shut down.
INFO     app.main:main.py:55 Application shut down successfully
INFO     apscheduler.scheduler:base.py:212 Scheduler has been shut down
__________ TestTeamIsolation.test_user_cannot_update_other_team_job ___________
tests\test_teams.py:90: in test_user_cannot_update_other_team_job
    db_session.add_all([team1, team2])
E   AttributeError: 'async_generator' object has no attribute 'add_all'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:10,711 - app.main - INFO - Starting application...
2026-02-12 00:36:10,714 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,716 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,718 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,720 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,722 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:10,724 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:10,725 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:10,726 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:10,728 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:10,730 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:10,732 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
-------------------------- Captured stdout teardown ---------------------------
2026-02-12 00:36:10,795 - app.main - INFO - Shutting down application...
2026-02-12 00:36:10,797 - app.scheduler.scheduler - INFO - Scheduler shut down.
2026-02-12 00:36:10,798 - app.main - INFO - Application shut down successfully
2026-02-12 00:36:10,799 - apscheduler.scheduler - INFO - Scheduler has been shut down
---------------------------- Captured log teardown ----------------------------
INFO     app.main:main.py:51 Shutting down application...
INFO     app.scheduler.scheduler:scheduler.py:79 Scheduler shut down.
INFO     app.main:main.py:55 Application shut down successfully
INFO     apscheduler.scheduler:base.py:212 Scheduler has been shut down
__________ TestTeamIsolation.test_user_cannot_delete_other_team_job ___________
tests\test_teams.py:119: in test_user_cannot_delete_other_team_job
    db_session.add_all([team1, team2])
E   AttributeError: 'async_generator' object has no attribute 'add_all'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:10,823 - app.main - INFO - Starting application...
2026-02-12 00:36:10,826 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,828 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,830 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,833 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,834 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:10,837 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:10,840 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:10,843 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:10,844 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:10,846 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:10,848 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
-------------------------- Captured stdout teardown ---------------------------
2026-02-12 00:36:10,914 - app.main - INFO - Shutting down application...
2026-02-12 00:36:10,917 - app.scheduler.scheduler - INFO - Scheduler shut down.
2026-02-12 00:36:10,918 - app.main - INFO - Application shut down successfully
2026-02-12 00:36:10,921 - apscheduler.scheduler - INFO - Scheduler has been shut down
---------------------------- Captured log teardown ----------------------------
INFO     app.main:main.py:51 Shutting down application...
INFO     app.scheduler.scheduler:scheduler.py:79 Scheduler shut down.
INFO     app.main:main.py:55 Application shut down successfully
INFO     apscheduler.scheduler:base.py:212 Scheduler has been shut down
_____________ TestTeamManagement.test_create_team_on_registration _____________
tests\test_teams.py:158: in test_create_team_on_registration
    assert response.status_code == status.HTTP_200_OK
E   assert 429 == 200
E    +  where 429 = <Response [429 Too Many Requests]>.status_code
E    +  and   200 = status.HTTP_200_OK
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:10,941 - app.main - INFO - Starting application...
2026-02-12 00:36:10,944 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,946 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,948 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,950 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:10,951 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:10,952 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:10,954 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:10,957 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:10,958 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:10,960 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:10,961 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
-------------------------- Captured stdout teardown ---------------------------
2026-02-12 00:36:11,026 - app.main - INFO - Shutting down application...
2026-02-12 00:36:11,028 - app.scheduler.scheduler - INFO - Scheduler shut down.
2026-02-12 00:36:11,029 - app.main - INFO - Application shut down successfully
2026-02-12 00:36:11,031 - apscheduler.scheduler - INFO - Scheduler has been shut down
---------------------------- Captured log teardown ----------------------------
INFO     app.main:main.py:51 Shutting down application...
INFO     app.scheduler.scheduler:scheduler.py:79 Scheduler shut down.
INFO     app.main:main.py:55 Application shut down successfully
INFO     apscheduler.scheduler:base.py:212 Scheduler has been shut down
______ TestCrossTeamDataLeaks.test_search_does_not_leak_other_team_data _______
tests\test_teams.py:297: in test_search_does_not_leak_other_team_data
    db_session.add_all([team1, team2])
E   AttributeError: 'async_generator' object has no attribute 'add_all'
---------------------------- Captured stdout setup ----------------------------
2026-02-12 00:36:11,696 - app.main - INFO - Starting application...
2026-02-12 00:36:11,699 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,700 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,703 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,706 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2026-02-12 00:36:11,708 - apscheduler.scheduler - INFO - Added job "Scrape Jobs (Every 6 hours)" to job store "default"
2026-02-12 00:36:11,709 - apscheduler.scheduler - INFO - Added job "Job Automation (Every 1 hour)" to job store "default"
2026-02-12 00:36:11,711 - apscheduler.scheduler - INFO - Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
2026-02-12 00:36:11,713 - apscheduler.scheduler - INFO - Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
2026-02-12 00:36:11,716 - apscheduler.scheduler - INFO - Scheduler started
2026-02-12 00:36:11,718 - app.scheduler.scheduler - INFO - Scheduler started with timezone Asia/Kolkata
2026-02-12 00:36:11,719 - app.main - INFO - Application started successfully
----------------------------- Captured log setup ------------------------------
INFO     app.main:main.py:33 Starting application...
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:454 Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO     apscheduler.scheduler:base.py:895 Added job "Scrape Jobs (Every 6 hours)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Job Automation (Every 1 hour)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Check Follow-up Emails (Daily 10 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:895 Added job "Cleanup Logs (Daily 2 AM)" to job store "default"
INFO     apscheduler.scheduler:base.py:181 Scheduler started
INFO     app.scheduler.scheduler:scheduler.py:73 Scheduler started with timezone Asia/Kolkata
INFO     app.main:main.py:42 Application started successfully
-------------------------- Captured stdout teardown ---------------------------
2026-02-12 00:36:11,772 - app.main - INFO - Shutting down application...
2026-02-12 00:36:11,774 - app.scheduler.scheduler - INFO - Scheduler shut down.
2026-02-12 00:36:11,775 - app.main - INFO - Application shut down successfully
2026-02-12 00:36:11,777 - apscheduler.scheduler - INFO - Scheduler has been shut down
---------------------------- Captured log teardown ----------------------------
INFO     app.main:main.py:51 Shutting down application...
INFO     app.scheduler.scheduler:scheduler.py:79 Scheduler shut down.
INFO     app.main:main.py:55 Application shut down successfully
INFO     apscheduler.scheduler:base.py:212 Scheduler has been shut down
_________________ TestAuthenticationFlow.test_01_health_check _________________
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connection.py:204: in _new_conn
    sock = connection.create_connection(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\util\connection.py:85: in create_connection
    raise err
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\util\connection.py:73: in create_connection
    sock.connect(sa)
E   ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

The above exception was the direct cause of the following exception:
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connectionpool.py:787: in urlopen
    response = self._make_request(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connectionpool.py:493: in _make_request
    conn.request(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connection.py:500: in request
    self.endheaders()
..\..\AppData\Local\Programs\Python\Python311\Lib\http\client.py:1298: in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
..\..\AppData\Local\Programs\Python\Python311\Lib\http\client.py:1058: in _send_output
    self.send(msg)
..\..\AppData\Local\Programs\Python\Python311\Lib\http\client.py:996: in send
    self.connect()
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connection.py:331: in connect
    self.sock = self._new_conn()
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connection.py:219: in _new_conn
    raise NewConnectionError(
E   urllib3.exceptions.NewConnectionError: HTTPConnection(host='localhost', port=8000): Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it

The above exception was the direct cause of the following exception:
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\adapters.py:486: in send
    resp = conn.urlopen(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connectionpool.py:841: in urlopen
    retries = retries.increment(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\util\retry.py:519: in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
E   urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /health (Caused by NewConnectionError("HTTPConnection(host='localhost', port=8000): Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it"))

During handling of the above exception, another exception occurred:
tests\smoke\test_smoke.py:39: in test_01_health_check
    response = requests.get(f"{BASE_URL}/health")
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\api.py:73: in get
    return request("get", url, params=params, **kwargs)
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\api.py:59: in request
    return session.request(method=method, url=url, **kwargs)
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\sessions.py:589: in request
    resp = self.send(prep, **send_kwargs)
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\sessions.py:703: in send
    r = adapter.send(request, **kwargs)
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\adapters.py:519: in send
    raise ConnectionError(e, request=request)
E   requests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /health (Caused by NewConnectionError("HTTPConnection(host='localhost', port=8000): Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it"))
______________ TestAuthenticationFlow.test_02_user_registration _______________
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connection.py:204: in _new_conn
    sock = connection.create_connection(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\util\connection.py:85: in create_connection
    raise err
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\util\connection.py:73: in create_connection
    sock.connect(sa)
E   ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

The above exception was the direct cause of the following exception:
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connectionpool.py:787: in urlopen
    response = self._make_request(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connectionpool.py:493: in _make_request
    conn.request(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connection.py:500: in request
    self.endheaders()
..\..\AppData\Local\Programs\Python\Python311\Lib\http\client.py:1298: in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
..\..\AppData\Local\Programs\Python\Python311\Lib\http\client.py:1058: in _send_output
    self.send(msg)
..\..\AppData\Local\Programs\Python\Python311\Lib\http\client.py:996: in send
    self.connect()
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connection.py:331: in connect
    self.sock = self._new_conn()
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connection.py:219: in _new_conn
    raise NewConnectionError(
E   urllib3.exceptions.NewConnectionError: HTTPConnection(host='localhost', port=8000): Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it

The above exception was the direct cause of the following exception:
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\adapters.py:486: in send
    resp = conn.urlopen(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connectionpool.py:841: in urlopen
    retries = retries.increment(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\util\retry.py:519: in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
E   urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/v1/auth/register (Caused by NewConnectionError("HTTPConnection(host='localhost', port=8000): Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it"))

During handling of the above exception, another exception occurred:
tests\smoke\test_smoke.py:47: in test_02_user_registration
    response = requests.post(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\api.py:115: in post
    return request("post", url, data=data, json=json, **kwargs)
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\api.py:59: in request
    return session.request(method=method, url=url, **kwargs)
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\sessions.py:589: in request
    resp = self.send(prep, **send_kwargs)
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\sessions.py:703: in send
    r = adapter.send(request, **kwargs)
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\adapters.py:519: in send
    raise ConnectionError(e, request=request)
E   requests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/v1/auth/register (Caused by NewConnectionError("HTTPConnection(host='localhost', port=8000): Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it"))
__________________ TestAuthenticationFlow.test_03_user_login __________________
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connection.py:204: in _new_conn
    sock = connection.create_connection(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\util\connection.py:85: in create_connection
    raise err
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\util\connection.py:73: in create_connection
    sock.connect(sa)
E   ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

The above exception was the direct cause of the following exception:
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connectionpool.py:787: in urlopen
    response = self._make_request(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connectionpool.py:493: in _make_request
    conn.request(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connection.py:500: in request
    self.endheaders()
..\..\AppData\Local\Programs\Python\Python311\Lib\http\client.py:1298: in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
..\..\AppData\Local\Programs\Python\Python311\Lib\http\client.py:1058: in _send_output
    self.send(msg)
..\..\AppData\Local\Programs\Python\Python311\Lib\http\client.py:996: in send
    self.connect()
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connection.py:331: in connect
    self.sock = self._new_conn()
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connection.py:219: in _new_conn
    raise NewConnectionError(
E   urllib3.exceptions.NewConnectionError: HTTPConnection(host='localhost', port=8000): Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it

The above exception was the direct cause of the following exception:
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\adapters.py:486: in send
    resp = conn.urlopen(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connectionpool.py:841: in urlopen
    retries = retries.increment(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\util\retry.py:519: in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
E   urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/v1/auth/login (Caused by NewConnectionError("HTTPConnection(host='localhost', port=8000): Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it"))

During handling of the above exception, another exception occurred:
tests\smoke\test_smoke.py:61: in test_03_user_login
    response = requests.post(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\api.py:115: in post
    return request("post", url, data=data, json=json, **kwargs)
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\api.py:59: in request
    return session.request(method=method, url=url, **kwargs)
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\sessions.py:589: in request
    resp = self.send(prep, **send_kwargs)
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\sessions.py:703: in send
    r = adapter.send(request, **kwargs)
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\adapters.py:519: in send
    raise ConnectionError(e, request=request)
E   requests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/v1/auth/login (Caused by NewConnectionError("HTTPConnection(host='localhost', port=8000): Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it"))
_______________ TestAuthenticationFlow.test_04_get_current_user _______________
tests\smoke\test_smoke.py:77: in test_04_get_current_user
    assert auth_token is not None, "Must login first"
E   AssertionError: Must login first
E   assert None is not None
________________ TestAuthenticationFlow.test_05_invalid_login _________________
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connection.py:204: in _new_conn
    sock = connection.create_connection(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\util\connection.py:85: in create_connection
    raise err
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\util\connection.py:73: in create_connection
    sock.connect(sa)
E   ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

The above exception was the direct cause of the following exception:
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connectionpool.py:787: in urlopen
    response = self._make_request(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connectionpool.py:493: in _make_request
    conn.request(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connection.py:500: in request
    self.endheaders()
..\..\AppData\Local\Programs\Python\Python311\Lib\http\client.py:1298: in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
..\..\AppData\Local\Programs\Python\Python311\Lib\http\client.py:1058: in _send_output
    self.send(msg)
..\..\AppData\Local\Programs\Python\Python311\Lib\http\client.py:996: in send
    self.connect()
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connection.py:331: in connect
    self.sock = self._new_conn()
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connection.py:219: in _new_conn
    raise NewConnectionError(
E   urllib3.exceptions.NewConnectionError: HTTPConnection(host='localhost', port=8000): Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it

The above exception was the direct cause of the following exception:
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\adapters.py:486: in send
    resp = conn.urlopen(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connectionpool.py:841: in urlopen
    retries = retries.increment(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\util\retry.py:519: in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
E   urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/v1/auth/login (Caused by NewConnectionError("HTTPConnection(host='localhost', port=8000): Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it"))

During handling of the above exception, another exception occurred:
tests\smoke\test_smoke.py:91: in test_05_invalid_login
    response = requests.post(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\api.py:115: in post
    return request("post", url, data=data, json=json, **kwargs)
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\api.py:59: in request
    return session.request(method=method, url=url, **kwargs)
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\sessions.py:589: in request
    resp = self.send(prep, **send_kwargs)
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\sessions.py:703: in send
    r = adapter.send(request, **kwargs)
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\adapters.py:519: in send
    raise ConnectionError(e, request=request)
E   requests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /api/v1/auth/login (Caused by NewConnectionError("HTTPConnection(host='localhost', port=8000): Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it"))
__________________ TestResumeFlow.test_01_list_resumes_empty __________________
tests\smoke\test_smoke.py:107: in test_01_list_resumes_empty
    assert auth_token is not None, "Must login first"
E   AssertionError: Must login first
E   assert None is not None
____________________ TestResumeFlow.test_02_upload_resume _____________________
tests\smoke\test_smoke.py:121: in test_02_upload_resume
    assert auth_token is not None, "Must login first"
E   AssertionError: Must login first
E   assert None is not None
________________ TestResumeFlow.test_03_list_resumes_with_data ________________
tests\smoke\test_smoke.py:145: in test_03_list_resumes_with_data
    assert auth_token is not None, "Must login first"
E   AssertionError: Must login first
E   assert None is not None
___________________ TestResumeFlow.test_04_download_resume ____________________
tests\smoke\test_smoke.py:159: in test_04_download_resume
    assert auth_token is not None, "Must login first"
E   AssertionError: Must login first
E   assert None is not None
____________________ TestResumeFlow.test_05_delete_resume _____________________
tests\smoke\test_smoke.py:173: in test_05_delete_resume
    assert auth_token is not None, "Must login first"
E   AssertionError: Must login first
E   assert None is not None
___________________ TestJobScrapingFlow.test_01_scrape_jobs ___________________
tests\smoke\test_smoke.py:189: in test_01_scrape_jobs
    assert auth_token is not None, "Must login first"
E   AssertionError: Must login first
E   assert None is not None
________________ TestJobScrapingFlow.test_02_list_scraped_jobs ________________
tests\smoke\test_smoke.py:213: in test_02_list_scraped_jobs
    assert auth_token is not None, "Must login first"
E   AssertionError: Must login first
E   assert None is not None
_________________ TestSchedulerFlow.test_01_scheduler_status __________________
tests\smoke\test_smoke.py:230: in test_01_scheduler_status
    assert auth_token is not None, "Must login first"
E   AssertionError: Must login first
E   assert None is not None
_____________________ TestSchedulerFlow.test_02_list_jobs _____________________
tests\smoke\test_smoke.py:244: in test_02_list_jobs
    assert auth_token is not None, "Must login first"
E   AssertionError: Must login first
E   assert None is not None
____________________ TestStatsFlow.test_01_dashboard_stats ____________________
tests\smoke\test_smoke.py:261: in test_01_dashboard_stats
    assert auth_token is not None, "Must login first"
E   AssertionError: Must login first
E   assert None is not None
_____________ TestWebSocketFlow.test_01_websocket_endpoint_exists _____________
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connection.py:204: in _new_conn
    sock = connection.create_connection(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\util\connection.py:85: in create_connection
    raise err
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\util\connection.py:73: in create_connection
    sock.connect(sa)
E   ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it

The above exception was the direct cause of the following exception:
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connectionpool.py:787: in urlopen
    response = self._make_request(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connectionpool.py:493: in _make_request
    conn.request(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connection.py:500: in request
    self.endheaders()
..\..\AppData\Local\Programs\Python\Python311\Lib\http\client.py:1298: in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
..\..\AppData\Local\Programs\Python\Python311\Lib\http\client.py:1058: in _send_output
    self.send(msg)
..\..\AppData\Local\Programs\Python\Python311\Lib\http\client.py:996: in send
    self.connect()
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connection.py:331: in connect
    self.sock = self._new_conn()
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connection.py:219: in _new_conn
    raise NewConnectionError(
E   urllib3.exceptions.NewConnectionError: HTTPConnection(host='localhost', port=8000): Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it

The above exception was the direct cause of the following exception:
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\adapters.py:486: in send
    resp = conn.urlopen(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\connectionpool.py:841: in urlopen
    retries = retries.increment(
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\urllib3\util\retry.py:519: in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
E   urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /docs (Caused by NewConnectionError("HTTPConnection(host='localhost', port=8000): Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it"))

During handling of the above exception, another exception occurred:
tests\smoke\test_smoke.py:281: in test_01_websocket_endpoint_exists
    response = requests.get(f"{BASE_URL}/docs")
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\api.py:73: in get
    return request("get", url, params=params, **kwargs)
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\api.py:59: in request
    return session.request(method=method, url=url, **kwargs)
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\sessions.py:589: in request
    resp = self.send(prep, **send_kwargs)
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\sessions.py:703: in send
    r = adapter.send(request, **kwargs)
..\..\AppData\Local\Programs\Python\Python311\Lib\site-packages\requests\adapters.py:519: in send
    raise ConnectionError(e, request=request)
E   requests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=8000): Max retries exceeded with url: /docs (Caused by NewConnectionError("HTTPConnection(host='localhost', port=8000): Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it"))
============================== warnings summary ===============================
app\db\base.py:4
  C:\Users\anura\ai-job-automation-saas\backend\app\db\base.py:4: MovedIn20Warning: The ``as_declarative()`` function is now available as sqlalchemy.orm.as_declarative() (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
    @as_declarative()

app\schemas\user.py:19
  C:\Users\anura\ai-job-automation-saas\backend\app\schemas\user.py:19: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class UserInDBBase(UserBase):

app\schemas\log.py:13
  C:\Users\anura\ai-job-automation-saas\backend\app\schemas\log.py:13: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Log(LogBase):

app\schemas\job.py:29
  C:\Users\anura\ai-job-automation-saas\backend\app\schemas\job.py:29: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Job(JobBase):

app\schemas\resume.py:13
  C:\Users\anura\ai-job-automation-saas\backend\app\schemas\resume.py:13: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Resume(ResumeBase):

app\api\endpoints\jobs.py:12
  C:\Users\anura\ai-job-automation-saas\backend\app\api\endpoints\jobs.py:12: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class JobSchema(BaseModel):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html

---------- coverage: platform win32, python 3.11.9-final-0 -----------
Name                                  Stmts   Miss   Cover   Missing
--------------------------------------------------------------------
app\__init__.py                           0      0 100.00%
app\api\__init__.py                       0      0 100.00%
app\api\api.py                           15      0 100.00%
app\api\deps.py                          57     28  50.88%   33-41, 60-76, 91, 108-112, 129-133, 157, 169, 181
app\api\endpoints\__init__.py             0      0 100.00%
app\api\endpoints\ai.py                  64     32  50.00%   32-36, 43-48, 57-66, 73-77, 84-92, 99-107
app\api\endpoints\auth.py                73     41  43.84%   69-80, 83, 110-121, 145-178, 197, 222-237
app\api\endpoints\email.py               74     43  41.89%   46-95, 105-124, 131-142
app\api\endpoints\features.py            15      1  93.33%   22
app\api\endpoints\jobs.py                27      4  85.19%   36-52, 63
app\api\endpoints\logs.py                38     18  52.63%   36-51, 66-82, 90-95
app\api\endpoints\resumes.py             72     45  37.50%   39, 62-70, 95-106, 132-138, 164-185, 208-213, 239-252
app\api\endpoints\scheduler.py           46     21  54.35%   18-37, 50-55, 75-79, 89-93, 102
app\api\endpoints\stats.py               36     23  36.11%   34, 59-113
app\api\endpoints\telegram.py            10      5  50.00%   11-16
app\api\endpoints\websockets.py          14      8  42.86%   9-18
app\automation\browser.py                29     17  41.38%   18-57, 63-68
app\automation\scrapers\base.py          13      4  69.23%   11-12, 33-34
app\automation\scrapers\linkedin.py      42     34  19.05%   12-21, 24-63
app\automation\session.py                26     17  34.62%   10, 16-21, 27-37
app\core\__init__.py                      0      0 100.00%
app\core\ai.py                           23      4  82.61%   31-34, 40
app\core\cache.py                        84     57  32.14%   23-30, 37-39, 50-52, 64-75, 94-102, 114-121, 133-144, 162-170, 190-205
app\core\csrf.py                         32     21  34.38%   18-21, 35-69, 73, 86
app\core\error_handlers.py               53     13  75.47%   39-65, 123, 140-148
app\core\exceptions.py                   39     11  71.79%   39, 46, 53-54, 61, 68, 82-83, 90, 97, 110
app\core\features.py                     14      6  57.14%   17-23, 31-32
app\core\logger.py                       30     30   0.00%   1-62
app\core\logging.py                      82     33  59.76%   18-45, 62, 67, 76, 119-131, 181-187, 199-206, 219-226
app\core\middleware.py                   23      4  82.61%   46-54
app\core\pagination.py                   34     11  67.65%   20, 25, 58-60, 92-101
app\core\rate_limit.py                   68     16  76.47%   53, 119-123, 164-177
app\core\retry.py                        96     96   0.00%   4-223
app\core\security.py                     92     63  31.52%   36, 64-78, 94-98, 112, 126, 139, 159-182, 196-221, 234-235, 248-267, 306-326
app\db\__init__.py                        0      0 100.00%
app\db\base.py                            9      1  88.89%   12
app\db\models.py                         81      0 100.00%
app\db\session.py                         5      0 100.00%
app\email\__init__.py                     0      0 100.00%
app\email\sender.py                      63     39  38.10%   41-99, 105-110
app\main.py                              70     13  81.43%   44-46, 56-57, 86, 131, 150, 163, 171-185
app\models\job.py                        20      0 100.00%
app\notifications\__init__.py             0      0 100.00%
app\notifications\telegram.py            30     18  40.00%   19-45
app\repositories\__init__.py              2      0 100.00%
app\repositories\base.py                103     83  19.42%   54-61, 77-80, 102-118, 133-146, 161-171, 188-206, 222-238, 253-266
app\repositories\job.py                  55     39  29.09%   30, 54-66, 88-96, 111-133, 157-170, 186
app\repositories\resume.py               36     23  36.11%   29, 51-59, 81-89, 104-111
app\repositories\team.py                 35     22  37.14%   29, 44-51, 66-77, 92-103
app\repositories\user.py                 55     32  41.82%   48, 66-73, 85-86, 98-99, 127-135, 156-163, 175-185
app\scheduler\__init__.py                 1      0 100.00%
app\scheduler\job_wrapper.py             44     27  38.64%   38-88, 96, 101
app\scheduler\jobs.py                    77     63  18.18%   15-43, 50-102, 107-125, 131-146
app\scheduler\scheduler.py               45      6  86.67%   25-26, 29-30, 82, 94
app\schemas\__init__.py                   0      0 100.00%
app\schemas\ai.py                        25      0 100.00%
app\schemas\job.py                       32      0 100.00%
app\schemas\log.py                       15      0 100.00%
app\schemas\resume.py                    17      0 100.00%
app\schemas\team.py                      13     13   0.00%   1-17
app\schemas\token.py                     12      0 100.00%
app\schemas\user.py                      24      0 100.00%
app\services\__init__.py                  0      0 100.00%
app\services\ai_service.py               49     28  42.86%   25-27, 33-53, 56-80, 83-90, 93-104, 107-124, 127-138, 141-150, 154-155
app\services\auth_service.py             60     36  40.00%   52-64, 81-97, 109-116, 128-135, 147-150, 171-173, 193-207
app\services\bot.py                      83     83   0.00%   4-220
app\services\email.py                    55     55   0.00%   4-152
app\services\job_scraper.py              41     26  36.59%   17-60, 66
app\services\job_service.py              49     31  36.73%   30, 47-53, 74-82, 95-110, 134-143, 161-167, 188-196, 208-211, 235-241
app\services\resume.py                   41     41   0.00%   4-192
app\services\resume_service.py           59     38  35.59%   36, 53-87, 104-110, 129-136, 155-162, 179-189, 207-213, 230-236
app\services\socket_manager.py           18      9  50.00%   10-11, 14-15, 18-23
app\services\team_service.py             38     38   0.00%   8-150
--------------------------------------------------------------------
TOTAL                                  2683   1470  45.21%
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml

=========================== short test summary info ===========================
FAILED tests/test_auth.py::TestUserRegistration::test_register_new_user - ass...
FAILED tests/test_auth.py::TestUserRegistration::test_register_duplicate_email
FAILED tests/test_auth.py::TestUserLogin::test_login_success - AttributeError...
FAILED tests/test_auth.py::TestUserLogin::test_login_wrong_password - Attribu...
FAILED tests/test_auth.py::TestUserLogin::test_login_nonexistent_user - asser...
FAILED tests/test_auth.py::TestJWTTokens::test_access_protected_endpoint_without_token
FAILED tests/test_auth.py::TestJWTTokens::test_access_with_invalid_token - as...
FAILED tests/test_auth.py::TestJWTTokens::test_token_expiration - assert 404 ...
FAILED tests/test_auth.py::TestRoleBasedAccess::test_viewer_has_read_only_access
FAILED tests/test_auth.py::TestPasswordSecurity::test_password_is_hashed - At...
FAILED tests/test_jobs.py::TestJobCreation::test_create_job_unauthenticated
FAILED tests/test_jobs.py::TestJobCreation::test_create_job_with_invalid_status
FAILED tests/test_teams.py::TestTeamIsolation::test_user_cannot_see_other_team_jobs
FAILED tests/test_teams.py::TestTeamIsolation::test_user_cannot_access_other_team_job_by_id
FAILED tests/test_teams.py::TestTeamIsolation::test_user_cannot_update_other_team_job
FAILED tests/test_teams.py::TestTeamIsolation::test_user_cannot_delete_other_team_job
FAILED tests/test_teams.py::TestTeamManagement::test_create_team_on_registration
FAILED tests/test_teams.py::TestCrossTeamDataLeaks::test_search_does_not_leak_other_team_data
FAILED tests/smoke/test_smoke.py::TestAuthenticationFlow::test_01_health_check
FAILED tests/smoke/test_smoke.py::TestAuthenticationFlow::test_02_user_registration
FAILED tests/smoke/test_smoke.py::TestAuthenticationFlow::test_03_user_login
FAILED tests/smoke/test_smoke.py::TestAuthenticationFlow::test_04_get_current_user
FAILED tests/smoke/test_smoke.py::TestAuthenticationFlow::test_05_invalid_login
FAILED tests/smoke/test_smoke.py::TestResumeFlow::test_01_list_resumes_empty
FAILED tests/smoke/test_smoke.py::TestResumeFlow::test_02_upload_resume - Ass...
FAILED tests/smoke/test_smoke.py::TestResumeFlow::test_03_list_resumes_with_data
FAILED tests/smoke/test_smoke.py::TestResumeFlow::test_04_download_resume - A...
FAILED tests/smoke/test_smoke.py::TestResumeFlow::test_05_delete_resume - Ass...
FAILED tests/smoke/test_smoke.py::TestJobScrapingFlow::test_01_scrape_jobs - ...
FAILED tests/smoke/test_smoke.py::TestJobScrapingFlow::test_02_list_scraped_jobs
FAILED tests/smoke/test_smoke.py::TestSchedulerFlow::test_01_scheduler_status
FAILED tests/smoke/test_smoke.py::TestSchedulerFlow::test_02_list_jobs - Asse...
FAILED tests/smoke/test_smoke.py::TestStatsFlow::test_01_dashboard_stats - As...
FAILED tests/smoke/test_smoke.py::TestWebSocketFlow::test_01_websocket_endpoint_exists
ERROR tests/test_auth.py::TestJWTTokens::test_token_contains_user_info - Attr...
ERROR tests/test_auth.py::TestJWTTokens::test_access_protected_endpoint_with_token
ERROR tests/test_auth.py::TestRoleBasedAccess::test_admin_can_access_admin_endpoint
ERROR tests/test_auth.py::TestRoleBasedAccess::test_member_cannot_access_admin_endpoint
ERROR tests/test_jobs.py::TestJobCreation::test_create_job_authenticated - At...
ERROR tests/test_jobs.py::TestJobCreation::test_create_job_missing_required_fields
ERROR tests/test_jobs.py::TestJobRetrieval::test_get_all_jobs - AttributeErro...
ERROR tests/test_jobs.py::TestJobRetrieval::test_get_job_by_id - AttributeErr...
ERROR tests/test_jobs.py::TestJobRetrieval::test_get_nonexistent_job - Attrib...
ERROR tests/test_jobs.py::TestJobRetrieval::test_filter_jobs_by_status - Attr...
ERROR tests/test_jobs.py::TestJobRetrieval::test_search_jobs_by_company - Att...
ERROR tests/test_jobs.py::TestJobUpdate::test_update_job - AttributeError: 'c...
ERROR tests/test_jobs.py::TestJobUpdate::test_update_job_status_only - Attrib...
ERROR tests/test_jobs.py::TestJobUpdate::test_update_nonexistent_job - Attrib...
ERROR tests/test_jobs.py::TestJobDeletion::test_delete_job - AttributeError: ...
ERROR tests/test_jobs.py::TestJobDeletion::test_delete_nonexistent_job - Attr...
ERROR tests/test_jobs.py::TestJobDeletion::test_admin_can_delete_any_job - At...
ERROR tests/test_jobs.py::TestJobPagination::test_paginate_jobs - AttributeEr...
ERROR tests/test_jobs.py::TestJobPagination::test_pagination_with_filters - A...
ERROR tests/test_teams.py::TestTeamManagement::test_admin_can_invite_team_members
ERROR tests/test_teams.py::TestTeamManagement::test_member_cannot_invite_team_members
ERROR tests/test_teams.py::TestTeamManagement::test_get_team_members - Attrib...
ERROR tests/test_teams.py::TestTeamManagement::test_admin_can_remove_team_member
ERROR tests/test_teams.py::TestTeamManagement::test_member_cannot_remove_team_member
ERROR tests/test_teams.py::TestCrossTeamDataLeaks::test_statistics_are_team_isolated
======= 34 failed, 6 passed, 4 skipped, 6 warnings, 25 errors in 40.36s =======
